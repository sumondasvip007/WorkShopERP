@{
    Layout = null;
}


<div class="row" ng-controller="AddPriceForPartsFromSupplierController" ng-init="ForLoginSuccess()">
    <div class="col-md-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Buy Parts From Supplier</h2>

                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <div class="row">
                    <form class="form-horizontal" name="AddPriceForPartsFromSupplierForm" @*ng-submit="saveBuyPartsFromSupplier()"*@>


                        <div class="col-md-4">
                            <div class="x_panel">
                                @*<div class="x_title">
                                        <h2>Bus Information For Bus Registration No</h2>
                                        <div class="clearfix"></div>
                                    </div>*@
                                <div class="x_content">
                                    <div class="row">


                                        <div class="form-group">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="RegistrationNo">
                                                RegistrationNo @*<span class="required" style="color: red">*</span>*@
                                            </label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                @*<select ng-model="BusInformation.RegistrationNo" id="RegistrationNo" name="RegistrationNo" class="form-control" ng-options="x.RegistrationNo as x.RegistrationNo for x in RegistrationNoList" ng-change="RegistrationNoClick()" required>
                                                        <option value="">Select Registration No....</option>
                                                    </select>*@

                                                @*<angucomplete-alt id="ex2"
                                                    placeholder="Search Registretion No "
                                                    selected-object="RegistrationNoClick"
                                                    local-data="RegistrationNoList"
                                                    search-fields="RegistrationNo"
                                                    title-field="RegistrationNo"
                                                    minlength="1"
                                                    inputclass="form-control form-control-small"
                                                    match-class="highlight"/>*@




                                                <ui-select ng-model="RegistrationList.selected" theme="bootstrap" ng-change="RegistrationNoClick()">

                                                    <ui-select-match placeholder="Select or search...">{{$select.selected.RegistrationNo}}</ui-select-match>

                                                    <ui-select-choices repeat="e in RegistrationNoList | filter: $select.search">
                                                        {{e.RegistrationNo}}

                                                    </ui-select-choices>

                                                </ui-select>


                                            </div>
                                        </div>



                                        <div class="form-group" style="margin-top: 5%;">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="BuyDate">
                                                Date <span class="required" style="color: red">*</span>
                                            </label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <p class="input-group">
                                                    <input type="text" class="form-control" uib-datepicker-popup ng-model="datetpicker" is-open="popup1.opened"
                                                           datepicker-options="dateOptions" ng-required="true" close-text="Close"
                                                           alt-input-formats="altInputFormats"
                                                           close-on-date-selection="true" readonly />
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="open()"><i class="fa fa-calendar"></i></button>
                                                    </span>
                                                </p>
                                            </div>
                                        </div>



                                        <table st-table="rowCollection" st-safe-src="BusInformationList" class="table table-striped table-bordered bootstrap-datatable datatable" ng-show="showBusInfo" style="margin-top: 3%">
                                            <thead>

                                                <tr>
                                                    <th st-sort="ModelNo">Model No</th>
                                                    <th st-sort="ChassisNo">Chassis No</th>
                                                    <th st-sort="RouteName">Route</th>
                                                </tr>

                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="row in rowCollection">
                                                    <td>{{row.ModelNo}}</td>
                                                    <td>{{row.ChassisNo}}</td>
                                                    <td>{{row.RouteName}}</td>
                                                </tr>
                                            </tbody>

                                        </table>



                                        @*<div class="form-group">
                                                <label class="control-label col-md-4 col-sm-4 col-xs-12" for="BuyDate">
                                                    Date <span class="required" style="color: red">*</span>
                                                </label>
                                                <div class="col-md-8 col-sm-8 col-xs-12">
                                                    <div style="width: 200px;">
                                                        <datepicker date-format="MM/dd/yyyy" selector="form-control">
                                                            <input class="form-control" ng-model="BuyDate" placeholder="    Choose a date" readonly required />
                                                        </datepicker>
                                                    </div>
                                                </div>
                                            </div>*@

                                        @*<div class="form-group">
                                                <label for="inpurdefault">Date Of Birth</label>
                                                <p class="input-group">
                                                    <input type="text" class="form-control" uib-datepicker-popup ng-model="datetpicker" is-open="popup1.opened"
                                                           datepicker-options="dateOptions" ng-required="true" close-text="Close"
                                                           alt-input-formats="altInputFormats"
                                                           close-on-date-selection="true" />
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="open()"><i class="fa fa-calendar"></i></button>
                                                    </span>
                                                </p>
                                            </div>*@


                    




                                    </div>
                                </div>
                            </div>
                        </div>



                        <div class="col-md-8">
                            <div class="x_panel">

                                <div class="x_content">

                                    <div class="row">

                                        <table class="table table-striped table-bordered">
                                            <tbody>
                                                @*Buypartsfromsuppliers*@
                                                <tr data-ng-repeat="choice in choices" >
                                                    <td>

                                                        <select ng-model="choice.PartsId" class="form-control" name="" ng-options="x.PartsId as x.PartsName for x in partsInfoList" required>
                                                            <option value="">Select Parts....</option>
                                                        </select>

                                                    </td>
                                                    <td>

                                                        <select ng-model="choice.SupplierId" class="form-control" name="" ng-options="x.SupplierId as x.CompanyName for x in supplierList" required>
                                                            <option value="">Select Supplier....</option>
                                                        </select>

                                                    </td>
                                                    <td>

                                                        <input type="number" ng-model="choice.Quantity" id="choice.Quantity" name="choice.Quantity" class="form-control  col-md-7 col-xs-12" placeholder="Quantity" @*ng-change="Total($index)"*@ required>

                                                    </td>
                                                    <td>

                                                        <input type="number" ng-model="choice.UnitPrice" id="choice.UnitPrice" name="choice.UnitPrice" class="form-control  col-md-7 col-xs-12" placeholder="Unit Price" @*ng-change="Total($index)"*@ required>

                                                    </td>
                                                    <td>

                                                        @*<input type="number" ng-model="choice.Price" name="" class="form-control  col-md-7 col-xs-12" placeholder="Total Price" required>*@
                                                        @*<input type="number" ng-model="choice.Price" id="Price" name="" class="form-control  col-md-7 col-xs-12" placeholder="Total Price" value="{{totalPrice}}" ng-init="choice.Price=totalPrice" required>*@
                                                        <input type="number" ng-model="choice.Price" id="Price" name="Price" class="form-control  col-md-7 col-xs-12" placeholder="Total Price" value="{{choice.Quantity * choice.UnitPrice}}" readonly @*on-change="choice.Price=(choice.Quantity * choice.UnitPrice)"*@>

                                                    </td>
                                                    <td>
                                                        <button type="button" class="btn btn-danger" ng-click="removeChoice($index)">Remove</button>
                                                    </td>
                                                </tr>



                                                <tr>
                                                    <td colspan="6"><button style="float: right" @*class="btn btn-primary"*@ class="btn btn-success addfields" ng-click="addNewChoice()">Add Row</button></td>
                                                </tr>


                                            @*<tr>
                                                <td colspan="4"><input type="text" ng-model="Other" id="Other" name="Other" class="form-control col-md-7 col-xs-12" placeholder="Other"></td>
                                                <td><input type="number" ng-model="Price" id="Price" name="Price" class="form-control col-md-7 col-xs-12" placeholder="Total Price"></td>
                                                <td><button style="float: right" class="btn btn-primary" type="submit" ng-click="saveBuyPartsFromSupplier()">&nbsp;&nbsp;&nbsp;Save&nbsp;&nbsp;</button></td>
                                            </tr>*@

                                                <tr data-ng-repeat="otherItem in otherItems">


                                                    <td colspan="4">
                                                        <input type="text" ng-model="otherItem.Other" name="" class="form-control col-md-7 col-xs-12" placeholder="Other" required>
                                                    </td>

                                                    <td>
                                                        <input type="number" ng-model="otherItem.Price" name="" class="form-control  col-md-7 col-xs-12" placeholder="Total Price" required>
                                                    </td>
                                                    <td>
                                                        <button type="button" class="btn btn-danger" ng-click="removeOtherItem($index)">Remove</button>
                                                    </td>
                                                </tr>

                                            <tr>
                                                <td colspan="6"><button style="float: right" @*class="btn btn-primary"*@ class="btn btn-success addfields" ng-click="addNewOtherItem()">Add Row</button></td>
                                            </tr>
                                                <tr>
                                                    <td colspan="6"><center><button class="btn btn-primary" type="submit" ng-click="saveBuyPartsFromSupplier()">&nbsp;&nbsp;&nbsp;Save&nbsp;&nbsp;</button></center></td>
                                                </tr>

                                            </tbody>
                                        </table>

                                    </div>
                                </div>
                            </div>
                        </div>




                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

