
@{
    Layout = null;
}


<div class="row" ng-controller="AddPartsInStoreController" ng-init="ForLoginSuccess()">
    <div class="col-md-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Add Parts In Store</h2>

                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <div class="row">
                    <form class="form-horizontal" name="AddPartsInStoreForm">


                        <div class="col-md-4">
                            <div class="x_panel">

                                <div class="x_content">
                                    <div class="row">

                                        <div class="form-group" style="margin-top: 1%;">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                                Date <span class="required" style="color: red">*</span>
                                            </label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <p class="input-group">
                                                    <input type="text" class="form-control" uib-datepicker-popup ng-model="datetpicker" is-open="popup1.opened"
                                                           datepicker-options="dateOptions" ng-required="true" close-text="Close"
                                                           alt-input-formats="altInputFormats"
                                                           close-on-date-selection="true" readonly />
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="open()"><i class="fa fa-calendar"></i></button>
                                                    </span>
                                                </p>
                                            </div>
                                        </div>



                                    </div>
                                </div>
                            </div>
                        </div>



                        <div class="col-md-8">
                            <div class="x_panel">

                                <div class="x_content">

                                    <div class="row">

                                        <table class="table table-striped table-bordered">
                                            <tbody>
                                                <tr data-ng-repeat="choice in choices">
                                                    <td>

                                                        <select ng-model="choice.PartsId" class="form-control" name="" ng-options="x.PartsId as x.PartsName for x in partsInfoList" required>
                                                            <option value="">Select Parts....</option>
                                                        </select>

                                                    </td>
                                                    <td>

                                                        <select ng-model="choice.StoreId" class="form-control" name="" ng-options="x.StoreId as x.StoreName for x in storeList" required>
                                                            <option value="">Select Store....</option>
                                                        </select>

                                                    </td>
                                                    <td>

                                                        <input type="number" ng-model="choice.Quantity" name="" class="form-control col-md-7 col-xs-12" placeholder="Quantity" required>

                                                    </td>
                                                    <td>

                                                        <input type="number" ng-model="choice.UnitPrice" name="" class="form-control col-md-7 col-xs-12" placeholder="Unit Price" required>

                                                    </td>
                                                    <td>

                                                        <input type="number" ng-model="choice.Price" name="" class="form-control col-md-7 col-xs-12" placeholder="Total Price" value="{{choice.Quantity*choice.UnitPrice}}" readonly>

                                                    </td>
                                                    <td>
                                                        <button type="button" class="btn btn-danger" ng-click="removeChoice($index)">Remove</button>
                                                    </td>
                                                </tr>



                                                <tr>
                                                    <td colspan="6"><button style="float: right"  class="btn btn-success addfields" ng-click="addNewChoice()">Add Row</button></td>
                                                </tr>


                                                <tr>

                                                    <td colspan ="6"><button style="float: right" class="btn btn-primary" type="submit" ng-click="addPartsInStore()">&nbsp;&nbsp;&nbsp;Save&nbsp;&nbsp;</button></td>
                                                </tr>


                                            </tbody>
                                        </table>

                                    </div>
                                </div>
                            </div>
                        </div>




                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

